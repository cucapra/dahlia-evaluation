#mem
set_directive_resource -core RAM_1P_BRAM "gemm" m1
set_directive_resource -core RAM_1P_BRAM "gemm" m2
set_directive_resource -core RAM_1P_BRAM "gemm" prod

#partitioning
set_directive_array_partition -factor 8 -type cyclic gemm m1
set_directive_array_partition -factor 8 -type cyclic gemm m2
set_directive_array_partition -factor 8 -type cyclic gemm prod

#unrolling
#set_directive_unroll -factor 8 gemm/loopjj
#set_directive_unroll -factor 8 gemm/loopkk
#set_directive_unroll -factor 8 gemm/loopi
set_directive_unroll -factor 8 gemm/loopk
set_directive_unroll -factor 8 gemm/loopj

#pipeline
#set_directive_pipeline gemm/loopjj
#set_directive_pipeline gemm/loopkk
#set_directive_pipeline gemm/loopi
#set_directive_pipeline gemm/loopk
#set_directive_pipeline gemm/loopj

#resources
set_directive_resource -core Mul "gemm" mul
